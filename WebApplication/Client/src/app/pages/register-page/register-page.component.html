<!-- host: .page.page--auth -->
  <section class="page__section page__section--bottom-border">

    <div class="page__jumbotron">
      <img src="assets/img/logotype.svg" alt="GoldMint" width="359" height="162">
      <div class="page__subtitle">Web Application</div>
    </div>

    <div class="row">
      <div class="col-6 pr-3">
        <section class="section section--no-bottom">
          <h2 class="section__title">{{ "PAGES.Register.SectionTitles.Register" | translate }}</h2>

          <div class="section__content pt-4">
            <form name="signupForm" (ngSubmit)="signupForm.form.valid && register()" #signupForm="ngForm" novalidate>

              <div class="form-group">
                <label for="inputEmail">{{ "PAGES.Register.Labels.Email" | translate }}</label>
                <input type="email" id="inputEmail" required email minlength="5" maxlength="256" noAutoComplete
                       name="email" [(ngModel)]="signupModel.email" #email="ngModel"
                       class="form-control col-7"
                       [ngClass]="{'is-invalid': (errors?.Email || !email.valid) && (signupForm.submitted || !email.pristine)}"
                       (ngModelChange)="errors.Email = false"
                       [readonly]="loading">

                <div class="invalid-feedback" *ngIf="email.errors?.required">
                  {{ "PAGES.Register.Errors.Email.required" | translate }}
                </div>
                <div class="invalid-feedback" *ngIf="email.errors?.email || email.errors?.minlength">
                  {{ "PAGES.Register.Errors.Email.pattern" | translate }}
                </div>
                <div class="invalid-feedback" *ngIf="errors?.Email">
                  {{ errors?.Email }}
                </div>
              </div>

              <div class="form-group">
                <label for="inputPassword">{{ "PAGES.Register.Labels.Password" | translate }}</label>
                <input type="password" id="inputPassword" required minlength="6" maxlength="128" noAutoComplete
                       name="password" [(ngModel)]="signupModel.password" #password="ngModel"
                       class="form-control col-7"
                       [ngClass]="{'is-invalid': (errors?.Password || !password.valid) && (signupForm.submitted || !password.pristine)}"
                       (ngModelChange)="errors.Password = false"
                       [readonly]="loading">

                <div class="invalid-feedback" *ngIf="password.errors?.required">
                  {{ "PAGES.Register.Errors.Password.required" | translate }}
                </div>
                <div class="invalid-feedback" *ngIf="password.errors?.minlength">
                  {{ "PAGES.Register.Errors.Password.minlength" | translate }}
                </div>
                <div class="invalid-feedback" *ngIf="password.errors?.maxlength">
                  {{ "PAGES.Register.Errors.Password.maxlength" | translate }}
                </div>
                <div class="invalid-feedback" *ngIf="errors?.Password">
                  {{ errors?.Password }}
                </div>
              </div>

              <div class="form-group mb-3 pt-3">
                <re-captcha class="form-captcha" #captchaRef="reCaptcha" (resolved)="captchaResolved($event)" [ngClass]="{'is-invalid': errors?.Captcha && signupForm.submitted}"></re-captcha>

                <div class="invalid-feedback" *ngIf="errors?.Captcha">
                  {{ errors?.Captcha }}
                </div>
              </div>

              <div class="form-group row pt-3">
                <div class="col-auto">
                  <button class="btn btn-primary" [blur]="submitButtonBlur" [disabled]="(signupForm.pristine && !signupForm.form.valid) || !signupModel.recaptcha || loading">{{ "PAGES.Register.Buttons.Register" | translate }}</button>
                  <img *ngIf="loading" alt="Processing..." width="17" height="17" class="form-loader" src="assets/img/loader-gold-bg-white.gif">
                </div>
                <div class="col form-text form-text--small pl-4">
                  <a routerLink="/signin" class="link link--bolder">Already own an account? Sign in</a>
                </div>
              </div>

            </form>
          </div>
        </section>
      </div>

      <div class="col-6 pl-3">
        <section class="section section--no-bottom">
          <h2 class="section__title">{{ "PAGES.Register.SectionTitles.Social" | translate }}</h2>
          <div class="section__content row pt-5">

            <!--div class="col-12 form-group mt-1">
              <a href="#" class="btn btn-social btn-social--fb disabled">
                <svg class="icon">
                  <use xlink:href="#social-fb"></use>
                </svg>
                <span>{{ "PAGES.Register.Buttons.RegisterViaSocial" | translate:"{provider: 'Facebook'}" }}</span>
              </a>
            </div-->

            <div class="col-12 form-group">
              <a href="#" class="btn btn-social btn-social--gp"
                 (click)="signInWithProvider('google', $event)">
                <svg class="icon">
                  <use xlink:href="#social-gp"></use>
                </svg>
                <span>{{ "PAGES.Register.Buttons.RegisterViaSocial" | translate:"{provider: 'Google'}" }}</span>
              </a>
            </div>

            <!--div class="col-6">
              <a href="#" class="btn btn-social btn-social--vk disabled" [title]=" 'PAGES.Register.Buttons.RegisterViaSocial' | translate:'{provider: \'VK.com\'}' ">
                <svg class="icon">
                  <use xlink:href="#social-vk"></use>
                </svg>
              </a>
            </div-->

            <!--div class="col-6">
              <a href="#" class="btn btn-social btn-social--gh disabled" [title]=" 'PAGES.Register.Buttons.RegisterViaSocial' | translate:'{provider: \'GitHub\'}' ">
                <svg class="icon">
                  <use xlink:href="#social-gh"></use>
                </svg>
              </a>
            </div-->

          </div>
        </section>
      </div>
    </div>

  </section>
