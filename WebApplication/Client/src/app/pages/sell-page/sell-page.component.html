<!-- host: .page -->
<h1 class="page__heading">{{ "PAGES.Sell.Heading" | translate }}</h1>

<section class="page__section section">
  <h2 class="section__title">{{ "PAGES.Sell.SectionTitle" | translate }}</h2>

  <div class="section__content">
    <form action="#">
      <div class="row align-items-start">

        <div class="col-12 pb-4">
          <div class="from-row form-group">
            <label for="input_toSell">{{ "PAGES.Sell.Labels.Amount" | translate }}</label>
            <div class="d-flex align-items-center">
              <div class="form-currency form-currency--gold">
                <svg class="icon">
                  <use xlink:href="#cur-gold"></use>
                </svg>
              </div>
              <input type="number" class="form-control" name="input_toSell" id="input_toSell"
                     min="0"
                     step="0.1"
                     [(ngModel)]="toSellVal"
                     (input)="onToSellChanged($event.target.value)"
                     [ngClass]="{'is-invalid': !sellAmountChecked}"
              >
            </div>
              <div class="percent-btn-cont">
                <button class="percent-btn" (click)="setGoldBalance(0.25)">25%</button>
                <button class="percent-btn" (click)="setGoldBalance(0.5)">50%</button>
                <button class="percent-btn" (click)="setGoldBalance(0.75)">75%</button>
                <button class="percent-btn" (click)="setGoldBalance(1)">100%</button>
              </div>
            <div class="invalid-feedback" *ngIf="!sellAmountChecked">
              {{ "PAGES.Sell.Errors.Invalid" | translate }}
            </div>
          </div>
        </div>

        <div class="col-12 pb-4">
          <div class="from-row form-group">
            <label for="input_EstimateAmount">{{ "PAGES.Sell.Labels.Estimate" | translate }}</label>
            <div class="d-flex align-items-center">
              <div class="form-currency form-currency--usd">
                <svg class="icon">
                  <use xlink:href="#cur-usd"></use>
                </svg>
              </div>
              <input type="text" class="form-control" id="input_EstimateAmount" name="estimates-amount" readonly [value]="estimatedAmount | number:'1.2-2':locale">
            </div>
            <div class="discount-badge__wrap">
              <span class="discount-badge" [ngClass]="{'discount-badge--gold': commission > 0}"><b>{{ commission }}</b>%</span> {{ "PAGES.Sell.Discount" | translate }}
            </div>
          </div>
        </div>

        <div class="col-lg-auto pb-4 pt-3">
          <button class="btn btn-primary btn-block" [disabled]="!sellAmountChecked || (selectedWallet == 0 ? hotGoldBalance : goldBalance) == null || toSell.gt(selectedWallet == 0 ? hotGoldBalance : goldBalance) || !toSell || toSell.lte(0) || progress" (click)="onSell()">
            {{ "PAGES.Sell.Buttons.SellNow" | translate }}
          </button>
        </div>

      </div>
    </form>
  </div>

  <div class="section__footer">
    <span class="page__note">
      {{ "PAGES.Sell.Note" | translate }}
    </span>
  </div>
</section>



<div class="row">
  <div class="col form-group text-center buy-mntp-block buy-mntp-block-1">
    <div class="buy-mntp-circle mt-5 mb-5">{{ mntpArray[0] }}<span class="buy-mntp-circle-cur">MNTP</span></div>
    <div class="buy-mntp-caption mb-4">{{ commissionArray[1] }}% {{ "PAGES.Sell.Discount" | translate }}</div>

    <div *ngIf="!buyMNT_DisableArray[0]; else okBlock">
      <button class="btn btn-primary btn-wide">{{ "PAGES.Sell.Buttons.BuyMore" | translate }}</button>
      <div class="buy-mntp-text mt-3 mb-5">
        {{ "PAGES.Sell.Labels.Buy" | translate }} <b>{{ buyMNTArray[0]  | number:'1.2-2':locale }} MNT</b><br>
        {{ "PAGES.Sell.Labels.Get" | translate }} <b>{{ discountUSDArray[1] | number:'1.2-2':locale }} USD</b></div>
    </div>
    <ng-template #okBlock>
      <svg class="buy-mntp-icon-bought" width="50px" height="50px">
        <use xlink:href="#ok"></use>
      </svg>
    </ng-template>
  </div>
  <div class="col form-group text-center buy-mntp-block buy-mntp-block-2">
    <div class="buy-mntp-circle mt-5 mb-5">{{ mntpArray[1] }}<span class="buy-mntp-circle-cur">MNTP</span></div>
    <div class="buy-mntp-caption mb-4">{{ commissionArray[2] }}% {{ "PAGES.Sell.Discount" | translate }}</div>

    <div *ngIf="!buyMNT_DisableArray[1]; else okBlock">
      <button class="btn btn-primary btn-wide">{{ "PAGES.Sell.Buttons.BuyMore" | translate }}</button>
      <div class="buy-mntp-text mt-3 mb-5">
        {{ "PAGES.Sell.Labels.Buy" | translate }}<b> {{ buyMNTArray[1]  | number:'1.2-2':locale }} MNT</b><br>
        {{ "PAGES.Sell.Labels.Get" | translate }}<b> {{ discountUSDArray[2] | number:'1.2-2':locale }} USD</b></div>
    </div>
    <ng-template #okBlock>
      <svg class="buy-mntp-icon-bought" width="50px" height="50px">
        <use xlink:href="#ok"></use>
      </svg>
    </ng-template>
  </div>
  <div class="col form-group text-center buy-mntp-block buy-mntp-block-3">
    <div class="buy-mntp-circle mt-5 mb-5">{{ mntpArray[2] }}<span class="buy-mntp-circle-cur">MNTP</span></div>
    <div class="buy-mntp-caption mb-4">{{ commissionArray[3] }}% {{ "PAGES.Sell.Discount" | translate }}</div>

    <div *ngIf="!buyMNT_DisableArray[2]; else okBlock">
      <button class="btn btn-primary btn-wide">{{ "PAGES.Sell.Buttons.BuyMore" | translate }}</button>
      <div class="buy-mntp-text mt-3 mb-5">
        {{ "PAGES.Sell.Labels.Buy" | translate }}<b> {{ buyMNTArray[2]  | number:'1.2-2':locale }} MNT</b><br>
        {{ "PAGES.Sell.Labels.Get" | translate }}<b> {{ discountUSDArray[3] | number:'1.2-2':locale }} USD</b></div>
    </div>
    <ng-template #okBlock>
      <svg class="buy-mntp-icon-bought" width="50px" height="50px">
        <use xlink:href="#ok"></use>
      </svg>
    </ng-template>
  </div>
</div>
